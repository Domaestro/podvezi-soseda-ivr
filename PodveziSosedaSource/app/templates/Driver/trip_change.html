{% extends 'base.html' %}

{% block css_style %}

{% endblock %}

{% block content %}
<h1 class="mt-5 mx-2">Редактирование</h1>

<div class="trip mt-4 mx-2">
    <div class="card mx-md-0">
        <div class="card-header">
        <h4 class="text-dark" style="float: right;">{{ date }} {{ trip.trip_time.strftime("%H:%M") }}</h4>
        <h3>Информация о поездке</h3>
        </div>
        <div class="card-body">
            <form action="{{ url_for('driver.change', trip_id=trip.trip_id) }}" method="POST">
                <div class="container mb-4">
                    <div class="row">
                        <div class="col-md-2"><h5>Откуда</h5></div>
                        <div class="col-md-8">
                          <input class="form-control" type="text" value="{{ trip.from_address }}" readonly>
                        </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-2"><h5 id = "addressSelectTitle">Куда</h5></div>
                      <div class="col-md-8">
                        <input class="form-control" type="text" value="{{ trip.to_address }}" readonly>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-2"><h5>Число пассажиров</h5></div>
                      <div class="col-md-8">
                        <input class="form-control" type="text" value="{{ trip.max_passengers_amount }}" readonly>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-2"><h5>Описание поездки</h5></div>
                      <div class="col-md-8">
                        <textarea class="form-control" id="tripDescription" name="tripDescription" rows="3" maxlength="300">{{ trip.description }}</textarea>
                      </div>
                    </div>
                  </div>
                  <div style="text-align: center;">
                    <a onclick="javascript:history.back(); return false;" class="btn btn-secondary mx-2 mt-5 mb-3">Отмена</a>
                    <button type="button" class="btn btn-primary mt-5 mb-3 shadow-none" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        Сохранить изменения
                    </button>
                  </div>
  
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Подтверждение</h5>
                        </div>
                        <div class="modal-body">
                        Вы точно хотите изменить описание поездки?
                        </div>
                        <div class="modal-footer text-center">
                            <button type="button" class="btn btn-secondary shadow-none" data-bs-dismiss="modal">Закрыть</button>
                            <input type="submit" class="btn btn-primary shadow-none" value="Сохранить">
                        </div>
                    </div>
                    </div>
                </div>
  

            </form>
        </div>
    </div>
</div>

<br class="mb-5"/><br class="mb-5"/><br>
{% endblock %}

{% block script %}
    <!-- Блок скрипта для выделения иконки в меню -->
    <script>    
        var link = document.getElementById("drive_link");
        link.classList.add("nav__link--active");
    </script>
{% endblock %}