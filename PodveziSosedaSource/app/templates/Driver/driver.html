{% extends 'base.html' %}

{% block css_style %}
<link href="{{ url_for('static', filename='css/driver.css')}}" rel="stylesheet">
{% endblock %}

{% block content %}
    {% for cat, msg in get_flashed_messages(True) %}
    <!-- <div class="flash {{cat}}">{{msg}}</div> -->

    <div id="toastDiv" class="position-fixed top-30 start-50 translate-middle-x p-3" style="z-index: 12">
    <div id="infoToast" class="toast hide text-white {{cat}} border-0" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
        <strong class="me-auto">Информация</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
        {{msg}}
        </div>
    </div>
    </div>
    {% endfor %}

    <h1>Водитель</h1>

    <a href="{{ url_for('driver.setup_drive') }}" class="btn btn-md btn- btn-primary create-trip">Создать поездку</a>
    
    <div class="content">
        <div class="blocks">
            <div class="active-trips p-3">
                <h3 class="">Активные поездки:</h3>
                <!-- <div>
                    <div class="bg-secondary">
                        <span>00:00</span>
                        <a>Имя фамилия водителя </a>
                    </div>
                    <b>Откуда: </b>
                    <b>Куда: </b>
                    <p>Это описание это описание</p>
                </div> -->
            </div>

            <div class="history p-3">
                <h3 class="">История поездок:</h3>
            </div>
        </div>
        <div class="statistic p-3">
            <h3 class="">Cтатистика:</h3>
            <p class="">Совершенно поездок: </p>
        </div>
    </div>
{% endblock %}

{% block script %}
    <!-- Блок скрипта для выделения иконки в меню -->
    <script>    
        var link = document.getElementById("drive_link");
        link.classList.add("nav__link--active");
    </script>

    <!-- Тост -->
    <script>
        var option = {
            animation: true,
            delay: 3000
        }
        function showToast() {
            let toastAlert = document.getElementById("infoToast")
            let bsAlert = new bootstrap.Toast(toastAlert, option)
            bsAlert.show()
        }
        window.onload = showToast()
        </script>
    
    <script>
    // При большом экране изменим раположени тоста
    if (window.innerWidth >= 767) {
        var toastCont = document.getElementById("toastDiv")
        toastCont.classList.remove("start-50", "translate-middle-x")
        toastCont.classList.add("end-0")
    }
    </script>
{% endblock %}